<div class="dataCon"></div>
<div class="topHeader">
    <div id="exitApp" class="exitApp1">exit</div>
    <div class="setting"></div>
    <div id="noticeUsageImpact" class="notice"></div>
    <script>
        getMessage("UsageImpact",'/js/chart/data/message.json');
    </script>
    <div id="header" data-role="header" data-id="header" data-position="top" data-fullscreen="true" data-tap-toggle="false" >
        <div class="top">
            <div class="back"></div>
            <div id="title" class="title"><span>Service performance<b></b></span></div>
        </div>
    </div><!-- /header -->
</div>
<div id="content" class="content">
    <div class="chart" id="chart" ></div>
</div>
<div class="page"></div>
<script src="../js/framework/page.js"></script>

<script>
    $.page({datas:[
        {name:'impact',url:'impact/impact-1.html',Str:"<h3 class='tt'>Service Performance</h3><div id='ImpactMin'  class='ImpactMin'></div>"},
		{name:'map',url:'impact/impact-2.html',Str:"<h3 class='tt' rel='refrash' >Key Areas</h3><div   class='ImpactMinMap ImpactMin'><img src='../css/images/map.png' /></div>"}
    ]});
</script>

<script src="../js/chart/canvas.UserImpact.js"></script>
<script>
	function drawSubMin(){
		getDataThen(getUrl('impact'), function(data){
			getDataConfig('/js/framework/data/setting.json', function (data2) {
					var impact = data2["index"]["child"]["impact"]["child"];
					for(var i =0;i<impact.length;i++){
						var state = impact[i]["hstate"];
						var name = impact[i]["name"];
						if(state == "1"){
							ImpactDefault.push(name);
						}
					}
				
				 drawImpactMin(data,ImpactDefault);
			},"settings");
		}, 'Impact');
	}
	drawSubMin();
</script>