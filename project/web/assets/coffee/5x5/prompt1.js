// Generated by CoffeeScript 1.9.2
(function() {
  var GRID_SIZE, inRange, inputCallback, isInteger, promptForTile1, promptForTile2, stdin, strToCoordinates;

  stdin = process.openStdin();

  stdin.setEncoding('utf8');

  inputCallback = null;

  stdin.on('data', function(input) {
    return inputCallback(input);
  });

  promptForTile1 = function() {
    console.log("请输入第一个有效坐标：");
    return inputCallback = function(input) {
      if (strToCoordinates(input)) {
        return promptForTile2();
      }
    };
  };

  promptForTile2 = function() {
    console.log("请输入第二个有效坐标：");
    return inputCallback = function(input) {
      if (strToCoordinates(input)) {
        console.log("正在交换坐标...完成！");
        return promptForTile1();
      }
    };
  };

  GRID_SIZE = 5;

  inRange = function(x, y) {
    return (0 <= x && x < GRID_SIZE) && (0 <= y && y < GRID_SIZE);
  };

  isInteger = function(num) {
    return num === Math.round(num);
  };

  strToCoordinates = function(input) {
    var halves, x, y;
    halves = input.split(',');
    if (halves.length === 2) {
      x = parseFloat(halves[0]);
      y = parseFloat(halves[1]);
      if (!isInteger(x) || !isInteger(y)) {
        return console.log("每个坐标数必须是正整数！");
      } else if (!inRange(x - 1, y - 1)) {
        return console.log("每个坐标数必须是在1和" + GRID_SIZE + "之间！");
      } else {
        return {
          x: x,
          y: y
        };
      }
    } else {
      return console.log("请输入坐标格式为：x,y");
    }
  };

  console.log("欢迎来到 5x5 游戏！");

  promptForTile1();

}).call(this);

//# sourceMappingURL=prompt1.js.map
